{{#> layout}}
{{#*inline "content"}}

<div class="navbar-links">
</div>
<!--<div class="intro">-->
<!--    { {# if currentUser}}-->
<!--        <h1>Welcome to Acebook { {currentUser.username}}</h1>-->
<!--    { {else}}-->
<!--    <h1>Welcome to Acebook</h1>-->
<!--    { {/if}}-->
<!--</div>-->

<!--<h3>Latest posts</h3>-->

<!-- Page Container -->
<div style="align-content: center;background: #d6e35f4f;border-bottom-left-radius: 50%;border-bottom-right-radius: 50%;box-shadow: 11px 0px 6px 2px lightgrey;">
   <center>  <image src="/static/logo.png" style="height: 80px; width: auto; "> </image> </center>
</div>

<div class="w3-container w3-content" style="max-width:1400px;margin-top:40px">
    <!-- The Grid -->
    <div class="w3-row">
        <!-- Left Column -->
        <div class="w3-col m3">
            <!-- Profile -->
            {{#if currentUser}}
            <div class="w3-card w3-round w3-white">
                <div class="w3-container">
                    <h4 class="w3-center">Welcome</h4>
                    <p class="w3-center"><img src="{{currentUser.image}}" class="w3-circle" style="height:106px;width:106px" alt="Avatar"></p>
                    <h4 class="w3-center">{{currentUser.firstName}} {{currentUser.lastName}}</h4>
                    <hr>
                    <p><i class="fa fa-pencil fa-fw w3-margin-right w3-text-theme"></i>UI/UX Designer</p>
                    <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i> London, UK</p>
                    <p><i class="fa fa-birthday-cake fa-fw w3-margin-right w3-text-theme"></i> April 11, 1988</p>
                </div>
            </div>
            {{/if}}
            <br>

            <!-- Accordion -->
            <div class="w3-card w3-round">
                <div class="w3-white">
                    <button onclick="myFunction('Demo1')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-circle-o-notch fa-fw w3-margin-right"></i> My Groups</button>
                    <div id="Demo1" class="w3-hide w3-container">
                        <p>Some text..</p>
                    </div>
                    <button onclick="myFunction('Demo2')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-calendar-check-o fa-fw w3-margin-right"></i> My Events</button>
                    <div id="Demo2" class="w3-hide w3-container">
                        <p>Some other text..</p>
                    </div>
                    <button onclick="myFunction('Demo3')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-users fa-fw w3-margin-right"></i> My Photos</button>
                    <div id="Demo3" class="w3-hide w3-container">
                        <div class="w3-row-padding">
                            <br>
                            <div class="w3-half">
                                <img src="/w3images/lights.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                            <div class="w3-half">
                                <img src="/w3images/nature.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                            <div class="w3-half">
                                <img src="/w3images/mountains.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                            <div class="w3-half">
                                <img src="/w3images/forest.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                            <div class="w3-half">
                                <img src="/w3images/nature.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                            <div class="w3-half">
                                <img src="/w3images/snow.jpg" style="width:100%" class="w3-margin-bottom">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>

            <!-- Interests -->
            <div class="w3-card w3-round w3-white w3-hide-small">
                <div class="w3-container">
                    <p>Interests</p>
                    <p>
                        <span class="w3-tag w3-small w3-theme-d5">News</span>
                        <span class="w3-tag w3-small w3-theme-d4">W3Schools</span>
                        <span class="w3-tag w3-small w3-theme-d3">Labels</span>
                        <span class="w3-tag w3-small w3-theme-d2">Games</span>
                        <span class="w3-tag w3-small w3-theme-d1">Friends</span>
                        <span class="w3-tag w3-small w3-theme">Games</span>
                        <span class="w3-tag w3-small w3-theme-l1">Friends</span>
                        <span class="w3-tag w3-small w3-theme-l2">Food</span>
                        <span class="w3-tag w3-small w3-theme-l3">Design</span>
                        <span class="w3-tag w3-small w3-theme-l4">Art</span>
                        <span class="w3-tag w3-small w3-theme-l5">Photos</span>
                    </p>
                </div>
            </div>
            <br>
            <!-- End Left Column -->
        </div>

        <!-- Middle Column -->
        <div class="w3-col m7">
            {{#each posts}}
                <a style="text-decoration: none" href="/posts/{{id}}">
                    <div class="w3-row-padding">
                        <div class="w3-card w3-round w3-white">
                            <div class="w3-container w3-padding">
                                <!-- User from database -->
                                {{#if postImage}}
                                    <div style="text-align: center; padding-top: 20px">
                                        <img style="width: 40%" class="image-post" src="{{postImage}}">
                                    </div>
                                {{/if}}
                                <h4 style="text-decoration: none; text-align: justify">{{content}}</h4>
                                <h5>{{likesCount}} likes</h5>
                                {{#if currentUser}}
                                    <form  class="button-styling" method="POST" action="/like/{{id}}">
                                        <input style="color:red; background: white; border-color: lightgray; border-radius: 50%" color:red" type="submit" value="❤">
                                    </form>
                                {{/if}}
                                <p>
                                    <img src="{{authorImage}}" class="w3-circle" style="height:23px;width:23px" alt="Avatar">
                                    <span style="vertical-align: middle; margin-left: 5px;">By: {{authorName}}</span>
                                    <span class="w3-right w3-opacity" style="margin-left: 20px; font-size:12px;">Posted: {{dateCreated}}</span>
                                </p><br>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                </div>
                                {{#if delete}}
                                    <button><a href="/posts/delete-post/{{id}}">Delete</a></button>
                                    <button class="edit-button" data-form-id="editForm-{{id}}">Edit</button>
                                    <form id="editForm-{{id}}" method="POST" action="/posts/edit-post/{{id}}" enctype="multipart/form-data" style="display: none;">
                                        <div>
                                            <textarea name="text" id="content" style="border: 2px solid black; border-radius: 10px; padding: 10px; width: 100%; height: 100px; resize: none;">{{content}}</textarea>
                                        </div>
                                        <div>
                                            <input name="picture" type="file" />
                                        </div>
                                        <br><br>
                                        <input type="submit" value="Update">
                                    </form>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </a><br>
            {{/each}}
            <!-- End Middle Column -->
        </div>
        <!-- Right Column -->
        <div class="w3-col m2">
            <div class="w3-card w3-round w3-white w3-center">
                <div class="w3-container">
                    <p>Your Ad goes here</p>
                    <p><button class="w3-button w3-block w3-theme-l4">More  info</button></p>
                </div>
            </div>
            <br>
            <div class="w3-card w3-round w3-white w3-center">
                <div class="w3-container">
                    <p>Place holder</p>
                    <span>------</span>
                    <div class="w3-row w3-opacity">
                        <!--                        <div class="w3-half">-->
                        <!--                            <button class="w3-button w3-block w3-green w3-section" title="Accept"><i class="fa fa-check"></i></button>-->
                        <!--                        </div>-->
                        <!--                        <div class="w3-half">-->
                        <!--                            <button class="w3-button w3-block w3-red w3-section" title="Decline"><i class="fa fa-remove"></i></button>-->
                        <!--                        </div>-->
                    </div>
                </div>
            </div>
            <br>
            <div class="w3-card w3-round w3-white w3-center">
                <div class="w3-container">
                    <p>Place holder</p>
                    <span>------</span>
                    <div class="w3-row w3-opacity">
                        <!--                        <div class="w3-half">-->
                        <!--                            <button class="w3-button w3-block w3-green w3-section" title="Accept"><i class="fa fa-check"></i></button>-->
                        <!--                        </div>-->
                        <!--                        <div class="w3-half">-->
                        <!--                            <button class="w3-button w3-block w3-red w3-section" title="Decline"><i class="fa fa-remove"></i></button>-->
                        <!--                        </div>-->
                    </div>
                </div>
            </div>
            <!-- End Right Column -->
        </div>
        <!-- End Grid -->
    </div>
    <!-- End Page Container -->
</div>
<br>
<script>
    // Add event listeners to the edit buttons
    const editButtons = document.querySelectorAll('.edit-button');
    editButtons.forEach(button => {
        button.addEventListener('click', () => {
            const formId = button.dataset.formId;
            const editForm = document.getElementById(formId);
            editForm.style.display = 'block';
        });
    });
</script>
{{/inline}}
{{/layout}}